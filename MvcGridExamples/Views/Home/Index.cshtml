@using MvcGrid
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    <link rel="stylesheet" type="text/css" href="~/Content/themes/jquery-ui-1.10.4.custom/css/cupertino/jquery-ui-1.10.4.custom.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/jquery.jqGrid/ui.jqgrid.css" />
}

@section Scripts
{
    @Scripts.Render("~/bundles/jqueryui")
    <script type="text/javascript" src="~/Scripts/i18n/grid.locale-en.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.jqGrid.js"></script>
    @Html.Grid((new GridSettings())
    .SetUrl("/Home/GetData")
    .SetDataType(GridDataType.Json)
    .SetRowNumber(25)
    .SetRowList(25, 50, 100)
    .SetViewRecords(true)
    .SetSortName("Id")
    .SetSortOrder(SortOrder.Asc)
    .SetCaption("Data References List")
    .SetHideGrid(false)
    .SetHeight("100%")
    .SetNavigator((new Navigator())
                    .SetAddButtonVisibility(false)
                    .SetEditButtonVisibility(false)
                    .SetDeleteButtonVisibility(false)
                    .SetSearchButtonVisibility(false)
                    .SetRefreshButtonVisibility(false))
    .AddJsonReader((new JsonReader())
                .SetTotalElementName("TotalPages")
                .SetCurrentPageElementName("CurrentPage")
                .SetRecordsElementName("Records")
                .SetRootElementName("Rows")
                .SetUserDataElementName("UserData")
                .SetRepeatItemsElementName(false))
    .AddColumn((new GridFormatterColumn())
                .SetName("Code")
                .SetLabel("Code")
                .SetWidth(150)
                .SetSortable(false))
    .AddColumn((new GridFormatterColumn())
                .SetName("Description")
                .SetLabel("Description")
                .SetWidth(250)
                .SetSortable(false))
    .AddColumn((new GridImageColumn())
                .AddImage((new GridImage())
                            .SetImagePath("/Content/images/b_red_16.png")
                            .DisplayWhen(x => x["Status"] == "0")
                            .SetToolTip("Blocked"))
                .AddImage((new GridImage())
                            .SetImagePath("/Content/images/b_green_16.png")
                            .DisplayWhen(x => x["Status"] == "1")
                            .SetToolTip("Active"))
                .SetName("Status")
                .SetLabel("Status")
                .SetWidth(50)
                .SetAlign(TextAlign.Center)
                .SetSortable(false))
    .AddColumn((new GridFormatterColumn())
                .SetFormatter("date")
                .AddFormatOption("newformat", "d.m.Y")
                .SetName("Created")
                .SetLabel("Created")
                .SetWidth(150)
                .SetSortable(false)))
}